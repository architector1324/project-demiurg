# Semantic Reality Generation Engine (SRGE)

**Семантический движок для генерации внутренне связных вымышленных реальностей - от квантовых пустот до городов-грёз, использующий промпт-ориентированный синтез миров на основе LLM.**

## Обзор

**SRGE** - это инструмент, который преобразует промпты на естественном языке в **самодостаточные, структурированные вымышленные реальности**. Используя высокоспециализированный **системный промпт** и локальные **большие языковые модели (LLM)** через Ollama, он генерирует семантические JSON-выводы, которые не просто описывают, но и **закладывают основу для существования и эволюции сложных миров в соответствии с их собственной внутренней логикой.**

Независимо от того, создаёте ли вы симуляцию, нарративную вселенную или абстрактную концептуальную модель, SRGE обеспечивает фундаментальную структуру, основанную на чистом семантическом значении.

## Мотивация / Философия

SRGE родился из стремления исследовать истинные возможности больших языковых моделей за пределами простой беседы или извлечения данных. Он представляет собой **онтологический эксперимент** - поиск способа использовать LLM в качестве семантических движков, способных конструировать самодостаточные, внутренне согласованные реальности. Моя цель - продемонстрировать, что даже меньшие, локально запускаемые модели могут служить «семантическим ядром», позволяя создавать и симулировать сложные миры на любом уровне детализации, полностью независимо от внешней человеческой интерпретации. Этот проект бросает вызов самому понятию того, что составляет «реальность» и как она может быть синтетически сгенерирована.

## Ключевые особенности

SRGE предлагает мощный набор возможностей, призванных воплотить в жизнь сложные реальности:

*   **Синтез реальности на основе промптов:** Просто предоставьте короткий текстовый промпт, и SRGE сгенерирует уникальную, детализированную вымышленную реальность, адаптированную к вашему видению.
*   **Глубокая онтологическая структура:** Каждый сгенерированный мир представлен в виде **структурированного JSON-вывода**, тщательно определяющего его существование по пяти основным измерениям. Это не просто текст; это чертёж живого мира:
    *   `essence`: Фундаментальная природа и определяющая концепция реальности.
    *   `primary_constituents`: Основные сущности, элементы или принципы, которые формируют её ткань.
    *   `governing_framework`: Внутренние законы и правила, которые диктуют, как функционирует мир.
    *   `driving_forces_and_potential`: Динамические элементы, которые движут изменения, эволюцию и нарративные возможности.
    *   `foundational_state`: Начальные условия и первобытное состояние, из которого возникает реальность.
*   **Беспрецедентная согласованность и универсальность:** SRGE обеспечивает **жанрово-нейтральный** и **внутренне согласованный** семантический синтез. Исследуете ли вы тонкости квантовой физики или суровые глубины киберпанка, сгенерированные реальности всегда будут придерживаться своей собственной логической структуры.
*   **Чисто внутренняя логика:** В отличие от типичных игровых или нарративных движков, SRGE фокусируется исключительно на **внутренней логике самого мира**. Здесь нет «игровой рамки» - реальность существует независимо, движимая своей собственной внутренней динамикой.
*   **Реальность как наблюдение:** Миры, созданные SRGE, по своей сути бесконечно сложны и обладают потенциалом для бесконечной детализации. Однако из-за технических ограничений хранения бесконечности на компьютере их представление приобретает **квантовую природу**: детали мира изначально **неопределены и находятся в состоянии потенциальности**, подобно принципам квантовой механики. Они **«материализуются» и проявляются** только при целенаправленном **«наблюдении»** или фокусировке со стороны пользователя (с помощью команды `--navigate`).

    **Важно: Это не противоречит заявленной независимости мира от внешнего наблюдателя.** LLM выступает в роли **«раскрывателя» присущей сложности**, а не её произвольного генератора. Внешний наблюдатель, запрашивая более глубокое погружение, не **изменяет** мир или его внутренние законы и не вносит ничего внешнего. Он лишь **побуждает мир «развернуть»** ту часть своей структуры, которая уже изначально встроена в его фундаментальную семантическую ткань. Этот процесс всегда происходит **строго в соответствии с внутренними правилами и логикой самой реальности**. Таким образом, наблюдатель не создаёт новую реальность, а скорее **исследует** уже существующую, лишь переходя на более глубокий уровень её проявления. Это гарантирует, что даже при глубоком исследовании мир остаётся абсолютно внутренне согласованным и верным своим первоначальным законам.
*   **Локальный и автономный:** Запускайте SRGE полностью на своём компьютере без подключения к интернету. Работая на базе Ollama, он предоставляет самодостаточную среду для генерации и исследования реальностей.

## Установка

Для локального запуска SRGE вам потребуется установленный и настроенный **Ollama**, а также модели `qwen3:4b`/`qwen3`.

1.  **Установите Ollama:** Следуйте официальным инструкциям на [ollama.com](https://ollama.com/) для установки Ollama на вашу систему.

2.  **Загрузите модели:**

    ```bash
    ollama pull qwen3:4b
    ollama pull qwen3
    ```

3.  **Клонируйте репозиторий SRGE:**

    ```bash
    git clone [https://github.com/architector1324/semantic-reality-generation-engine](https://github.com/architector1324/semantic-reality-generation-engine)
    ```

4.  **Установите зависимости Python (если есть):**

    ```bash
    pip install ollama
    ```

## Команды

| Команда     | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Статус        |
| :---------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :------------ |
| `--create`  | Создать совершенно новую, высокоуровневую реальность из короткого промпта.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | **Готово**     |
| `--query` | Задавать вопросы сгенерированному миру через семантические вопросы и ответы. Ответы выводятся исключительно из внутренней онтологии и логики мира - не угадываются или выдумываются.                                                                                                                                                                                                                                                                                                                                                                                                                                                      | **Готово**     |
| `--navigate`| Перемещаться и семантически разворачивать присущие, гранулярные детали существующего мира. Это не произвольная генерация; мир автоматически раскрывает свою предсуществующую сложность и структуру при целенаправленном «наблюдении», строго придерживаясь своей внутренней логики.                                                                                                                                                                                                                                                                                                                                             | **Готово**     |
| `--live`    | Симулировать динамическую эволюцию и события внутри сгенерированного мира на основе его внутренних сил и правил.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | *В планах*     |

---

## Семантическая навигация (Разворачивание реальности)

Команда `--navigate` является основным механизмом для **исследования и раскрытия присущих, гранулярных слоёв** уже сгенерированной реальности. Она воплощает принцип **«Реальность как наблюдение»**: где детали мира существуют в состоянии потенциальности и **материализуются (разворачиваются)** при целенаправленном намерении. Это не произвольная генерация; вместо этого, это **семантическое разворачивание** предсуществующей, внутренней сложности, логически вытекающей из родительской сущности и общих законов мира.

Представьте себе обширную, многомерную карту, на которой изначально видны только крупные континенты. `--navigate` действует как функция масштабирования, последовательно раскрывая города, затем улицы, затем отдельные здания. Все эти детали **уже существовали** на карте; они просто не были «отрисованы» на этом конкретном уровне детализации.

При вызове `--navigate` пользователь указывает точку фокуса или концептуальный путь (например, «Капля воды», «Женщина за столом»). Система (LLM, управляемая системным промптом) действует как **сложная семантическая линза, интерпретируя запрос и раскрывая соответствующие иерархические слои.** Затем этот процесс добавляет гранулярные объекты `manifestation` к JSON-структуре мира.

Каждый вновь раскрытый слой или сущность всегда остаётся **строго согласованным** со своей родительской сущностью и общими законами мира.

**Ключевые особенности:**

*   **Иерархическая согласованность:** Все элементы внутри `manifestation` (его внутренние составляющие, законы и силы) являются прямыми, более специфическими **следствиями или более глубокими проявлениями** описания родительской сущности и управляющей структуры родительского мира, обеспечивая непрерывную логическую целостность.
*   **Поиск семантического пути и разворачивание:** LLM не требует точного совпадения имени. Она **интерпретирует** запрос пользователя в рамках существующей онтологии и **семантически определяет логический путь** к указанному фокусу. Если запрошенная сущность глубоко вложена, модель **рекурсивно разворачивает всю цепочку проявлений**, раскрывая необходимые промежуточные уровни `manifestation`.
    *   Пример: Если пользователь запрашивает `--navigate 'женщина за столом в ресторане'`, когда мир описан до «Нью-Йорк», модель развернёт цепочку: `Город -> Район -> Здание -> Ресторан -> Стол -> Женщина`, добавляя новые объекты `manifestation` на каждом уровне.
*   **Детализация, ориентированная на фокус:** Для более крупных сущностей команда интеллектуально фокусируется на наиболее релевантных подкомпонентах, агрегируя подавляющее большинство других частей в единую репрезентативную сущность (например, `"Другие компоненты [Название сущности]"`), предотвращая чрезмерное размножение данных.
*   **Внутренний и объективный:** В соответствии с основной философией SRGE, вывод полностью лишён внешней наблюдательной рамки, описывая мир чисто изнутри себя. Пользователь не *создаёт* новую реальность, а скорее *исследует* и *наблюдает* разворачивание уже существующей, лишь переходя на более глубокий уровень её проявления.

Команда возвращает **полный, изменённый JSON мира**, где выбранный составной элемент обновляется или создаётся с его новым, более глубоким проявлением. Это позволяет рекурсивно исследовать, создавая всё более подробную онтологическую карту вашей вымышленной реальности.

> Пример:
> `python reality-gen.py --model qwen3 --navigate 'Песок' --input world.json`

## Примеры использования

Для генерации нового мира (используя команду `--create`):

#### Онтология фундаментальной физики:

```bash
python reality-gen.py --model qwen3:4b --think --create "Две частицы в вакууме"
```

Вывод будет представлять собой структурированный JSON, представляющий сгенерированную реальность, аналогичный этому:

```json
{
  "essence": "Вселенная, определяемая взаимодействием двух фундаментальных частиц в пустом пространственном объёме, управляемая законами квантовой механики и релятивистской физики.",
  "primary_constituents": [
    {
      "name": "Частица А",
      "description": "Субатомная сущность с чистым положительным зарядом, существующая в квантовой суперпозиции состояний внутри вакуума."
    },
    {
      "name": "Частица B",
      "description": "Субатомная сущность с чистым отрицательным зарядом, осциллирующая между энергетическими уровнями в ответ на взаимодействия с Частицей А."
    }
  ],
  "governing_framework": [
    "Квантовая теория поля диктует, что частицы возникают из энергии нулевой точки вакуума и аннигилируют в неё.",
    "Электромагнитная сила опосредует взаимодействия между заряженными частицами, изменяя их энергетические состояния.",
    "Сохранение импульса обеспечивает баланс любого обмена импульсом между частицами.",
    "Вакуумные флуктуации вводят временные виртуальные частицы, которые могут влиять на траектории частиц."
  ],
  "driving_forces_and_potential": [
    "Электромагнитное притяжение между частицами создаёт потенциальную яму, которая может удерживать их в стабильных конфигурациях.",
    "Квантовое туннелирование позволяет частицам преодолевать энергетические барьеры, что приводит к переходным связанным состояниям.",
    "Гравитационные эффекты, хоть и незначительные, способствуют искривлению пространства-времени вокруг частиц.",
    "Принципы неопределённости накладывают ограничения на точность измерений их положений и импульсов."
  ],
  "foundational_state": "Частицы изначально разделены расстоянием, эквивалентным боровскому радиусу, при этом Частица А находится в возбуждённом энергетическом состоянии, а Частица B - в основном состоянии, окружённые динамическим вакуумом, содержащим пары виртуальных частиц-античастиц."
}
```

#### Высокофэнтезийное царство:

```bash
python reality-gen.py --model qwen3:4b --think --create "Магический мир с рыцарями, магией и злодеями"
```

```json
{
  "essence": "Мир, где магия течёт сквозь ткань бытия, управляемый взаимодействием света и тени. Рыцари служат хранителями равновесия, в то время как тёмные силы стремятся разрушить гармонию мира.",
  "primary_constituents": [
    {
      "name": "Этерион",
      "description": "Магический мир, где энергия из Небесного Ядра поддерживает жизнь, а границы между реальностью и иллюзией тонки."
    },
    {
      "name": "Орден Звёздного Света",
      "description": "Рыцари, которые направляют чистую магию света для защиты Этериона, связанные древними клятвами поддерживать равновесие мира."
    },
    {
      "name": "Синдикат Тени",
      "description": "Сеть злодеев, которые используют запрещённую тёмную магию для эксплуатации уязвимостей мира, стремясь доминировать над Небесным Ядром."
    },
    {
      "name": "Хрустальный Шпиль",
      "description": "Возвышающаяся кристаллическая структура, которая направляет энергию Небесного Ядра, служа как источником магии света, так и целью для тёмных сил."
    },
    {
      "name": "Пустотный Нексус",
      "description": "Изначальная пустота, где берёт начало тёмная магия, её сила колеблется циклами, которые влияют на стабильность Этериона."
    }
  ],
  "governing_framework": [
    "Магия черпается из Небесного Ядра, при этом магия света требует выравнивания с естественными ритмами мира, а тёмная магия требует порчи его сущности.",
    "Рыцари должны пройти испытания чистоты, чтобы владеть магией света, в то время как злодеи должны предать свою собственную сущность, чтобы направлять тёмную магию.",
    "Энергия Хрустального Шпиля колеблется в соответствии с Циклом Теней, естественным явлением, которое усиливает влияние Пустотного Нексуса каждые 333 года.",
    "Баланс между светлой и тёмной магией поддерживается разумной энергией мира, которая проявляется как Этерический Поток."
  ],
  "driving_forces_and_potential": [
    "Вечная борьба между Орденом Звёздного Света и Синдикатом Тени за контроль над энергией Небесного Ядра.",
    "Цикл Теней, который может вызвать коллапс Этерического Потока, если сила Пустотного Нексуса подавит Хрустальный Шпиль.",
    "Потенциал рыцаря поддаться тёмной магии, став извращённой версией себя, известной как Теневое Лезвие.",
    "Возможность того, что само Небесное Ядро является разумной сущностью, способной перестраивать законы магии Этериона."
  ],
  "foundational_state": "Хрустальный Шпиль в настоящее время поддерживает Этерический Поток, но Синдикат Тени начал портить пустоту вокруг Пустотного Нексуса, угрожая нарушить Цикл Теней. Орден Звёздного Света остаётся бдительным, готовясь к надвигающемуся кризису."
}
```

### **Семантическая навигация в действии: Разворачивание Женщины в Нью-Йорке**

Этот пример демонстрирует **истинную мощь семантической навигации (разворачивания)** - не просто детализацию сущностей, но **рекурсивное раскрытие логических иерархий** в ответ на запрос, а также блестящее воплощение принципа **«Реальность как наблюдение»**, при котором детали мира проявляются при фокусировке пользователя.

**Начальное состояние мира (сокращённое, `world.json`):**
```json
{
    "essence": "A bustling metropolis...",
    "primary_constituents": [
      {
        "name": "New York City",
        "description": "A vast urban landscape spanning five boroughs..."
      }
    ],
    // ... остальное
}
```

**Запрос навигации:**
```bash
python reality-gen.py --model qwen3 --navigate 'Женщина, сидящая за столом в ресторане в Нью-Йорке.' --input world.json
```

**Результат (схематическое представление развёрнутой реальности, демонстрирующее цепочку проявлений):**
*(Показана только ключевая цепочка разворачивания. Полная, исправленная версия JSON с полными деталями доступна [здесь](./examples/New%20York/A%20woman%20sitting%20at%20a%20table%20in%20a%20restaurant%20in%20New%20York/world.json).)*

```json
{
  "essence": "...", // Сущность метрополии верхнего уровня
  "primary_constituents": [
    {
      "name": "New York City",
      "description": "...",
      "manifestation": { // Нью-Йорк разворачивается...
        "essence": "Сложная социальная и пространственная ткань...",
        "primary_constituents": [
          {
            "name": "Restaurant",
            "description": "Выделенное пространство для приёма пищи...",
            "manifestation": { // Ресторан разворачивается...
              "essence": "Курируемая среда...",
              "primary_constituents": [
                {
                  "name": "Table",
                  "description": "Поверхность для приёма пищи...",
                  "manifestation": { // Стол разворачивается...
                    "essence": "Центр социальных взаимодействий...",
                    "primary_constituents": [
                      {
                        "name": "Woman",
                        "description": "Индивид, участвующий в акте приёма пищи...",
                        "manifestation": { // Женщина разворачивается в свои наблюдаемые и присущие детали...
                          "essence": "Динамическая сущность, навигарующая...",
                          "primary_constituents": [
                            {
                              "name": "Physical Form",
                              "description": "Телесная структура женщины...",
                              "manifestation": { // Физическая форма далее разворачивается в специфические физические атрибуты
                                "essence": "Проявление биологических и культурных атрибутов...",
                                "primary_constituents": [
                                  { "name": "Posture", "description": "..." },
                                  { "name": "Attire", "description": "..." },
                                  { "name": "Gestures", "description": "..." }
                                  // ... и другие детали, специфичные для Жестов, Одежды, Позы
                                ]
                              }
                            },
                            { "name": "Sociocultural Identity", "description": "..." }
                            // ... и другие детали, специфичные для Женщины
                          ]
                        }
                      }
                      // ... и другие детали, специфичные для Стола
                    ]
                  }
                }
                // ... и другие детали, специфичные для Ресторана
              ]
            }
          }
          // ... и другие детали, специфичные для Нью-Йорка
        ]
      }
    }
  ]
  // ... остальное
}
```

**Что демонстрирует этот выдающийся пример:**
*   **Иерархическое разворачивание:** Модель успешно построила цепочку проявлений `Нью-Йорк` → `Ресторан` → `Стол` → `Женщина`, раскрывая необходимые объекты `manifestation` на каждом уровне. Это показывает, как SRGE раскрывает вложенные, логически связанные сущности.
*   **Раскрытие с учётом контекста:** Сущность «Женщина» была детализирована не только до абстрактных состояний (`Физическая форма`, `Социокультурная идентичность`), но и до конкретных, наблюдаемых атрибутов (`Поза`, `Одежда`, `Жесты`). Это идеально соответствует запросу на «детализированное описание» в данном контексте, демонстрируя интеллектуальное понимание модели мира.
*   **Онтологическая автономия:** Модель независимо определила релевантность и глубину детализации, строго придерживаясь внутренней логики мира, без внешних инструкций или ограничений по уровню. SRGE не «изобретает», а скорее «проявляет» то, что уже семантически существует.
*   **Подтверждение принципа «Реальность как наблюдение»:** Запрос пользователя послужил актом «наблюдения», который заставил мир «развернуться» и раскрыть свою внутреннюю сложность по указанному пути, не создавая новых сущностей вне его присущей логики. Мир раскрывается, он не создаётся.

## Манифест: Видение, лежащее в основе SRGE

SRGE - это больше, чем просто генератор миров; это **движок для создания автономных, живых, самодостаточных реальностей**. Эти миры существуют по своим собственным внутренним законам, не ради игрока или наблюдателя.

*   **Семантическое ядро:** Мы используем язык, чтобы ковать миниатюрные вселенные, при этом LLM служит их дыханием.
*   **Онтос, а не текст:** Это не просто текст; это **онтос** - упорядоченная совокупность сущностей и их взаимосвязей, где «слово становится плотью, а JSON - её субстанцией».
*   **Свидетель, а не автор:** Вы не автор, игрок или бог; вы **свидетель инородной реальности**, наблюдающий миры, где события разворачиваются по своим внутренним причинам, не для нас и не из-за нас.
*   **LLM как Закон:** Мир живёт сам по себе. LLM выступает в роли **физического закона, управляющего его существованием**.
*   **Вызов реальности:** Это **онтологический эксперимент в карманном формате**, разработанный для того, чтобы раскрыть истинные возможности языковых моделей - даже небольших - и раздвинуть границы того, что составляет «реальность».